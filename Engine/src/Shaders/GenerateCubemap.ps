// VARIANTS BEGIN
// VARIANTS END

#define PI 3.14159265359f

Texture2D equirectangularMap : register(t0);
SamplerState equirectangularMapSampler : register(s0);


float4 main(float3 localPosition : LOCALPOSITION) : SV_TARGET
{
    float3 sphericalCoord = normalize(localPosition);
    
    float2 uv = float2(atan2(sphericalCoord.z,sphericalCoord.x), asin(-sphericalCoord.y));
    uv.x /= 2.0f * PI;
    uv.y /= PI;
    uv += 0.5f;

    float3 color = equirectangularMap.Sample(equirectangularMapSampler,uv).rgb;
    return float4(color, 1.0f);
}